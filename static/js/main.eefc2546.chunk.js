(this["webpackJsonpgoit-react-hw-04-hooks-feedback"]=this["webpackJsonpgoit-react-hw-04-hooks-feedback"]||[]).push([[0],{164:function(n,t,e){"use strict";e.r(t);var r=e(2),o=e(0),c=e.n(o),i=e(29),a=e.n(i),u=(e(41),e(42),e(19)),s=e(6),b=e(4),j=e(5);function l(){var n=Object(b.a)(["\n  padding: 50px 0px 20px;\n  width: 100%;\n  background-color: grey;\n"]);return l=function(){return n},n}var d=j.a.header(l());function f(n){var t=n.children;return Object(r.jsx)(d,{id:"page-header",children:Object(r.jsx)("nav",{children:t})})}function p(){var n=Object(b.a)(["\n  width: 100%;\n  height: 30px;\n  border: 2px solid black;\n  border-radius: 0.5rem;\n  padding-left: 10px;\n  font-size: 1rem;\n"]);return p=function(){return n},n}function h(){var n=Object(b.a)(["\n  max-width: 350px;\n  margin: 0 auto;\n  margin-bottom: 10px;\n"]);return h=function(){return n},n}var O=j.a.form(h()),x=j.a.input(p());function g(n){var t=n.onSearch,e=Object(o.useState)(""),c=Object(s.a)(e,2),i=c[0],a=c[1];return Object(r.jsx)(O,{onSubmit:function(n){n.preventDefault(),t(i),a("")},children:Object(r.jsx)(x,{type:"text",value:i,onChange:function(n){a(n.target.value)},placeholder:"Search images and photos"})})}function v(){var n=Object(b.a)(["\n  padding: 50px 0px 50px;\n  max-width: 1000px;\n  margin: 0 auto;\n"]);return v=function(){return n},n}var m=j.a.section(v());function y(n){var t=n.children;return Object(r.jsx)(m,{children:t})}var w=e(8),k=e(9),S=e(11);function C(){var n=Object(b.a)(["\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n"]);return C=function(){return n},n}function L(){var n=Object(b.a)(["\n  font-size: 0.8rem;\n  font-weight: 600;\n  color: #fff;\n  &:not(:last-child) {\n    margin-right: 10px;\n  }\n"]);return L=function(){return n},n}function z(){var n=Object(b.a)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  position: absolute;\n  bottom: 5px;\n"]);return z=function(){return n},n}function E(){var n=Object(b.a)(["\n  visibility: hidden;\n  opacity: 0;\n  position: absolute;\n  background-color: rgba(0, 0, 0, 0.7);\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  transition-property: opacity;\n  transition-duration: 0.3s;\n"]);return E=function(){return n},n}function I(){var n=Object(b.a)(["\n  height: 100%;\n  width: 100%;\n"]);return I=function(){return n},n}function M(){var n=Object(b.a)(["\n  position: relative;\n  width: 300px;\n  height: 200px;\n  margin-bottom: 25px;\n\n  &:hover .overlay {\n    visibility: visible;\n    opacity: 1;\n  }\n  &:hover {\n    box-shadow: 10px 5px 5px grey;\n    border: 3px solid green;\n    animation: 2s "," ease-in-out;\n  }\n  cursor: zoom-in;\n"]);return M=function(){return n},n}function q(){var n=Object(b.a)(["\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-around;\n"]);return q=function(){return n},n}function F(){var n=Object(b.a)(["",""]);return F=function(){return n},n}var N=Object(j.b)(F(),S.tada),T=j.a.ul(q()),U=j.a.li(M(),N),R=j.a.img(I()),A=j.a.div(E()),B=j.a.div(z()),G=j.a.span(L()),J=j.a.div(C()),_=e.p+"static/media/default-image.2e01288c.jpg";function D(n){var t=n.imagesArr,e=n.onGetLargeImg;return Object(r.jsx)(T,{children:t.map((function(n){var t=n.id,o=n.webformatURL,c=void 0===o?_:o,i=n.largeImageURL,a=n.tags,u=n.likes,s=n.views,b=n.downloads;return Object(r.jsxs)(U,{onClick:function(){return e(i)},children:[Object(r.jsxs)(A,{className:"overlay",children:[Object(r.jsxs)(J,{children:[" ",Object(r.jsx)(w.a,{icon:k.d,color:"green",size:"3x"})]}),Object(r.jsxs)(B,{children:[Object(r.jsxs)(G,{children:[Object(r.jsx)(w.a,{icon:k.b,color:"green"})," ",s]}),Object(r.jsxs)(G,{children:[Object(r.jsx)(w.a,{icon:k.e,color:"green"})," ",u]}),Object(r.jsxs)(G,{children:[Object(r.jsx)(w.a,{icon:k.c,color:"green"})," ",b]})]})]}),Object(r.jsx)(R,{src:c,alt:a})]},t)}))})}var H=e(33),P=e.n(H);var K=e(34),Q=e.n(K);e(160);function V(){var n=Object(b.a)(["\n  margin: 0 auto;\n  display: flex;\n  justify-content: center;\n"]);return V=function(){return n},n}var W=j.a.div(V());function X(){return Object(r.jsx)(W,{children:Object(r.jsx)(Q.a,{type:"Bars",color:"#00BFFF",height:80,width:80})})}function Y(n){var t=n.message;return Object(r.jsx)("div",{children:t})}var Z=e(35);e(161),e(162),e(163);function $(){var n=Object(b.a)(["\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  background-color: transparent;\n  border: 2px solid grey;\n  border-radius: 50%;\n  cursor: pointer;\n  opacity: 0;\n  transition-property: opacity;\n  transition-delay: 4s;\n  &.open {\n    opacity: 1;\n  }\n  &.close {\n    opacity: 0;\n  }\n"]);return $=function(){return n},n}function nn(){var n=Object(b.a)(["\n  position: relative;\n  opacity: 0;\n  transition-property: opacity;\n  transition-delay: 0.3s;\n  &.open {\n    opacity: 1;\n    animation: 1s ",";\n  }\n\n  &.close {\n    animation: 0.6s ",";\n    opacity: 0;\n  }\n"]);return nn=function(){return n},n}function tn(){var n=Object(b.a)(["\n  overflow: hidden;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 40px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 100vh;\n  width: 100vw;\n  background-color: rgba(0, 0, 0, 0.7);\n"]);return tn=function(){return n},n}function en(){var n=Object(b.a)(["\n  height: 100%;\n  width: 100%;\n  object-fit: contain;\n"]);return en=function(){return n},n}function rn(){var n=Object(b.a)(["",""]);return rn=function(){return n},n}function on(){var n=Object(b.a)(["",""]);return on=function(){return n},n}var cn=Object(j.b)(on(),S.rollIn),an=Object(j.b)(rn(),S.rollOut),un=j.a.img(en()),sn=j.a.div(tn()),bn=j.a.div(nn(),cn,an),jn=j.a.button($());function ln(n){var t=n.onCloseModal,e=n.imgUrl,c=Object(o.useState)(null),i=Object(s.a)(c,2),a=i[0],u=i[1],b=Object(o.useRef)();Object(o.useEffect)((function(){return document.body.style.overflow="hidden",window.addEventListener("keydown",j),function(){document.body.style.overflow="visible",window.removeEventListener("keydown",j),clearTimeout(b.current)}}),[]);var j=function(n){"Escape"===n.code&&l()},l=function(){u(!0);var n=setTimeout((function(){return t()}),500);b.current=n},d="close",f="open";return Object(r.jsx)(sn,{children:Object(r.jsxs)(bn,{className:a?d:f,children:[Object(r.jsx)(jn,{className:a?d:f,type:"button",onClick:function(){l()},children:Object(r.jsx)(w.a,{icon:k.f,color:"green",size:"2x"})}),Object(r.jsx)(un,{src:e,onLoad:function(){u(!1)}})]})})}function dn(){var n=Object(b.a)(["\n  display: block;\n  padding: 20px 10px;\n  max-width: 250px;\n  margin: 0 auto;\n  border: none;\n  border-radius: 0.5rem;\n  background-color: green;\n  color: #fff;\n  font-size: 0.8rem;\n  font-weight: 600;\n  cursor: pointer;\n"]);return dn=function(){return n},n}var fn=j.a.button(dn());function pn(n){var t=n.onLoad;return Object(r.jsx)(fn,{type:"button",onClick:function(){return t()},children:"LoadMore"})}function hn(){var n=Object(b.a)(["\n  font-size: 0.8rem;\n  font-weight: 600;\n  color: green;\n  margin-right: 5px;\n"]);return hn=function(){return n},n}function On(){var n=Object(b.a)(["\n  width: 17px;\n  height: 17px;\n"]);return On=function(){return n},n}function xn(){var n=Object(b.a)(["\n  width: max-content;\n  display: block;\n  margin: 0 auto;\n"]);return xn=function(){return n},n}var gn=j.a.label(xn()),vn=j.a.input(On()),mn=j.a.span(hn());function yn(n){var t=n.onCheckChange,e=Object(o.useState)(!1),c=Object(s.a)(e,2),i=c[0],a=c[1];return Object(r.jsxs)(gn,{children:[Object(r.jsx)(mn,{children:"use infinity scroll:"}),Object(r.jsx)(vn,{type:"checkbox",checked:i,onChange:function(n){var e=n.target.checked;a(e),t(e)}})]})}function wn(){var n=Object(b.a)(["\n  display: block;\n  position: fixed;\n  right: 5px;\n  bottom: 10px;\n  background-color: transparent;\n  cursor: pointer;\n  &:hover .icon {\n    color: green;\n  }\n"]);return wn=function(){return n},n}var kn=j.a.a(wn());function Sn(){return Object(r.jsx)(kn,{href:"#page-header",children:Object(r.jsx)(w.a,{className:"icon",icon:k.a,color:"grey",size:"3x"})})}function Cn(){var n=Object(o.useState)([]),t=Object(s.a)(n,2),e=t[0],c=t[1],i=Object(o.useState)(""),a=Object(s.a)(i,2),b=a[0],j=a[1],l=Object(o.useState)(1),d=Object(s.a)(l,2),p=d[0],h=d[1],O=Object(o.useState)(!1),x=Object(s.a)(O,2),v=x[0],m=x[1],w=Object(o.useState)(null),k=Object(s.a)(w,2),S=k[0],C=k[1],L=Object(o.useState)(null),z=Object(s.a)(L,2),E=z[0],I=z[1],M=Object(o.useState)(!1),q=Object(s.a)(M,2),F=q[0],N=q[1],T=Object(o.useState)(!1),U=Object(s.a)(T,2),R=U[0],A=U[1];Object(o.useEffect)((function(){b&&B()}),[b]),Object(o.useEffect)((function(){R||window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),[p]);var B=function(){m(!0),function(n,t){return P.a.get("".concat("https://pixabay.com/api/","?key=").concat("18487031-50da0da9ba31764b7f32dc2fc","&q=").concat(n,"&image_type=photo&page=").concat(t,"&orientation=horizontal&per_page=12")).then((function(n){return n.data}))}(b,p).then((function(n){0===n.hits.length&&Object(Z.info)({title:"The input is not correct",text:"Please input another request!!",delay:3e3}),e.length<n.total?(c((function(t){return[].concat(Object(u.a)(t),Object(u.a)(n.hits))})),h((function(n){return n+1})),N(!1)):N(!0)})).catch((function(n){C(n)})).finally((function(){m(!1)}))};return Object(r.jsxs)(o.Fragment,{children:[Object(r.jsxs)(f,{children:[Object(r.jsx)(g,{onSearch:function(n){j(n),h(1),c([]),N(!1)}}),Object(r.jsx)(yn,{onCheckChange:function(n){A(n),function(){var n=new IntersectionObserver((function(n,t){n.forEach((function(n){n.isIntersecting&&""!==b&&R&&(console.log("object is intersecting"),B())}))}),{rootMargin:"200px",threshold:.5}),t=document.querySelector("#trackingObj");n.observe(t)}()}})]}),Object(r.jsx)("main",{children:Object(r.jsxs)(y,{children:[e.length>0&&Object(r.jsx)(D,{imagesArr:e,onGetLargeImg:function(n){I(n)}}),v&&Object(r.jsx)(X,{}),S&&Object(r.jsx)(Y,{message:"Error loading:".concat(S.message)}),!v&&e.length>0&&!F&&!R&&Object(r.jsx)(pn,{onLoad:B}),Object(r.jsx)("div",{id:"trackingObj"}),e.length>0&&Object(r.jsx)(Sn,{})]})}),E&&Object(r.jsx)(ln,{imgUrl:E,onCloseModal:function(){I(null)}})]})}a.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Cn,{})}),document.querySelector("#root"))},42:function(n,t,e){}},[[164,1,2]]]);
//# sourceMappingURL=main.eefc2546.chunk.js.map